---
title: "Ubuntuã¨Windowsã®ãƒ‡ãƒ¥ã‚¢ãƒ«ãƒ–ãƒ¼ãƒˆã‚’æ§‹æˆã—ãŸPCã§ã€å„ªå…ˆçš„ã«èµ·å‹•ã•ã‚Œã‚‹OSã‚’å¤‰æ›´ã™ã‚‹"
emoji: "ğŸ’»"
type: "tech"
topics:
  - ubuntu
  - windows
  - grub
published: false
---

# ã‚„ã‚ŠãŸã„ã“ã¨

Ubuntu 24.04 LTS ã¨ Windows 11 ã®ãƒ‡ãƒ¥ã‚¢ãƒ«ãƒ–ãƒ¼ãƒˆã‚’æ§‹æˆã—ãŸ PC ã§ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ Ubuntu ãŒè‡ªå‹•çš„ã«èµ·å‹•ã™ã‚‹ãŸã‚ã€Windows 11 ã‚’èµ·å‹•ã™ã‚‹ã«ã¯ GRUB ã®ç”»é¢ã§æ˜ç¤ºçš„ã«é¸æŠã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®è¨˜äº‹ã§ã¯ã€å„ªå…ˆçš„ã«èµ·å‹•ã•ã‚Œã‚‹ OS ã‚’ Windows 11 ã«ã™ã‚‹ãŸã‚ã«è¨­å®šã‚’å¤‰æ›´ã—ã¾ã™ã€‚

# ç’°å¢ƒ

- OS
  - Ubuntu 24.04 LTS
  - Windows 11
- CPU: Intel Core i5-13600KF
- ãƒã‚¶ãƒ¼ãƒœãƒ¼ãƒ‰: ASUS PRIME Z790-A WIFI-CSM
- ãƒ¡ãƒ¢ãƒª: DDR5 4800Mhz 16GB x 2
- ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸
  - Ubuntu 24.04 LTS: NVMe SSD 512GB
  - Windows 11: NVMe SSD 1TB

# æ‰‹é †

è¨­å®šã®å¤‰æ›´ã¯ Ubuntu å´ã§è¡Œã„ã¾ã™ã€‚

## 1. GRUB ã«ãŠã‘ã‚‹ Windows ã®é †ç•ªã‚’ç¢ºèª

ã¾ãšã¯ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ GRUB ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªã—ã¾ã™ã€‚

```bash
sudo grep -e "^\(menuentry\)\|\(submenu\)" /boot/grub/grub.cfg
```

```plaintext
menuentry 'Ubuntu' --class ubuntu --class gnu-linux --class gnu --class os $menuentry_id_option 'gnulinux-simple-c9ad25a9-c093-4a30-922a-701c9e646061' {
submenu 'Advanced options for Ubuntu' $menuentry_id_option 'gnulinux-advanced-c9ad25a9-c093-4a30-922a-701c9e646061' {
menuentry "Memory test (memtest86+x64.efi)" --class memtest $menuentry_id_option 'memtest86+' {
menuentry 'Memory test (memtest86+x64.efi, serial console)' --class memtest $menuentry_id_option 'memtest86+-serial' {
menuentry 'Windows Boot Manager (on /dev/nvme0n1p1)' --class windows --class os $menuentry_id_option 'osprober-efi-6AD7-3EFA' {
```

ã“ã‚Œã‚’è¦‹ã‚‹ã¨ã€ `Windows Boot Manager` ã¯ 5 ç•ªç›®ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚

## 2. è¨­å®šã‚’å¤‰æ›´

æ¬¡ã«ã€ `/etc/default/grub` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¾ã™ã€‚

```bash
sudo nano /etc/default/grub
```

ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã„ãŸã‚‰ã€ä»¥ä¸‹ã®è¡Œã‚’æ¢ã—ã¾ã™ã€‚

```plaintext
GRUB_DEFAULT=0
```

ã“ã®è¡Œã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§èµ·å‹•ã•ã‚Œã‚‹ OS ã‚’æŒ‡å®šã™ã‚‹è¡Œã§ã™ã€‚ã“ã®è¡Œã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«å¤‰æ›´ã—ã¾ã™ã€‚ã“ã®æ•°å­—ã®éƒ¨åˆ†ã¯ã€å…ˆã»ã©ç¢ºèªã—ãŸ Windows ã®é †ç•ªã«åˆã‚ã›ã¦å¤‰æ›´ã—ã¾ã™ã€‚

ã“ã®å ´åˆã€ `Windows Boot Manager` ã¯ 5 ç•ªç›®ã§ã™ãŒã€é †ç•ªã¯ 0 ã‹ã‚‰å§‹ã¾ã‚‹ã®ã§ `GRUB_DEFAULT` ã«è¨­å®šã™ã‚‹å€¤ã¯ 4 ã«ãªã‚Šã¾ã™ã€‚

```plaintext
GRUB_DEFAULT=4
```

## 3. è¨­å®šã‚’åæ˜ 

è¨­å®šã‚’å¤‰æ›´ã—ãŸã‚‰ã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ GRUB ã®è¨­å®šã‚’æ›´æ–°ã—ã¾ã™ã€‚

```bash
sudo update-grub
```

ã“ã‚Œã§å†èµ·å‹•ã™ã‚‹ã¨ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ Windows 11 ãŒé¸æŠã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

# å‚è€ƒã«ã—ãŸè¨˜äº‹ãªã©

http://distronanakey.livedoor.blog/archives/12782415.html

https://blog.yotiosoft.com/2021/10/16/GRUB%E3%81%8C%E3%83%87%E3%83%95%E3%82%A9%E3%83%AB%E3%83%88%E3%81%A7%E8%B5%B7%E5%8B%95%E3%81%99%E3%82%8BOS%E3%82%92%E5%A4%89%E6%9B%B4%E3%81%99%E3%82%8B.html
